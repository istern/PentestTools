#!/bin/bash

#  REMEBER can be a good idea to run
# sudo apt update -y 
# sudo apt upgrade -y 
# sudo apt dist-upgrade -y
echo 'Reconfiguring ssh keys'

cd /etc/ssh/
mkdir default_kali_keys
mv ssh_host_* default_kali_keys/
dpkg-reconfigure openssh-server

echo 'Starting Update'
apt-get update -y

echo 'Installing vs code'
wget https://code.visualstudio.com/sha/download?build=stable&os=linux-deb-x64 -O vscode.deb
apt install ./vscode.deb -y
rm ./vscode.deb

echo 'Installing feroxbuster'
sudo apt-get install feroxbuster -y

echo 'Getting SecLists' 
git clone https://github.com/danielmiessler/SecLists.git /opt/SecLists

echo 'Getting  nishang'
git clone https://github.com/samratashok/nishang.git /opt/nishang

echo 'Downloading Chrome'
wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb
apt install ./google-chrome-stable_current_amd64.deb -y
rm ./google-chrome-stable_current_amd64.deb

echo 'Getting tmux conf'
wget https://raw.githubusercontent.com/istern/PentestTools/master/tmux/.tmux.conf -O /home/kali/.tmux.conf
wget https://raw.githubusercontent.com/istern/PentestTools/master/tmux/.tmux.conf.local -O /home/kali/.tmux.conf.local

echo 'Installing BB tools'
apt install httprobe subfinder httpx-toolkit xclip -y

echo 'Preparing Docker'
printf '%s\n' "deb https://download.docker.com/linux/debian bullseye stable" | tee /etc/apt/sources.list.d/docker-ce.list
curl -fsSL https://download.docker.com/linux/debian/gpg | sudo gpg --dearmor -o /etc/apt/trusted.gpg.d/docker-ce-archive-keyring.gpg
apt update -y
apt install docker-ce docker-ce-cli containerd.io -y
systemctl enable docker â€“-now
usermod -aG docker kali

echo 'Done'

